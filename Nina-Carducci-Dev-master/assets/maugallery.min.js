!function(t){t.fn.mauGallery=function(a){let n=t.extend({columns:{xs:1,sm:2,md:3},lightBox:!0,lightboxId:"mauLightbox",showTags:!0,tagsPosition:"top"},a);return this.each(function(){let a=t(this);!function a(e){e.css({display:"grid",gap:"15px"});let l=()=>{let t=window.innerWidth,a=n.columns.md;t<576?a=n.columns.xs||a:t<992&&(a=n.columns.sm||a),e.css("grid-template-columns",`repeat(${a}, 1fr)`)};l(),t(window).on("resize",l)}(a),n.showTags&&function a(e){let l=new Set;if(e.find("[data-gallery-tag]").each(function(){l.add(t(this).data("gallery-tag"))}),l.size>0){let o=t("<div>",{class:"gallery-tags"});t("<button>",{class:"gallery-btn active",text:"Tous","data-gallery-tag":"all"}).appendTo(o),l.forEach(a=>{t("<button>",{class:"gallery-btn",text:a,"data-gallery-tag":a}).appendTo(o)}),"top"===n.tagsPosition?e.before(o):e.after(o),o.on("click","button",function(){let a=t(this).data("gallery-tag");o.find("button").removeClass("active"),t(this).addClass("active"),"all"===a?e.find(".gallery-item").show():(e.find(".gallery-item").hide(),e.find(`[data-gallery-tag='${a}']`).show())})}}(a),n.lightBox&&(function a(){if(t("#"+n.lightboxId).length>0)return;let e=t(`
    <div id="${n.lightboxId}" class="modal fade" tabindex="-1">
      <div class="modal-dialog modal-fullscreen m-0">
        <div class="modal-content p-0 border-0 bg-transparent shadow-none">

          <!-- Fl\xe8che gauche (en haut \xe0 gauche) -->
          <button class="lightbox-prev btn btn-dark position-absolute top-0 start-0 m-3 border-0 shadow-none">
            &#10094;
          </button>

          <!-- Image -->
          <img src="" alt="" class="w-100 h-100" style="object-fit: contain;" />

          <!-- Fl\xe8che droite (en haut \xe0 droite) -->
          <button class="lightbox-next btn btn-dark position-absolute top-0 end-0 m-3 border-0 shadow-none">
            &#10095;
          </button>

        </div>
      </div>
    </div>
  `);t("body").append(e)}(),function a(e){let l=e.find(".gallery-item"),o=0;function i(a){let e=l.eq(a).attr("src");t("#"+n.lightboxId).find("img").attr("src",e),o=a}e.on("click",".gallery-item",function(){i(o=l.index(this)),t("#"+n.lightboxId).modal("show")}),t("body").on("click",".lightbox-prev",function(){i(o=(o-1+l.length)%l.length)}),t("body").on("click",".lightbox-next",function(){i(o=(o+1)%l.length)})}(a))})}}(jQuery);