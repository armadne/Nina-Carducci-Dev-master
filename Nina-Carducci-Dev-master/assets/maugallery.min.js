!function(a){a.fn.mauGallery=function(e){let t=a.extend({},a.fn.mauGallery.defaults,e),l=[];return this.each(function(){let e=a(this);a.fn.mauGallery.methods.createRowWrapper(e),t.lightBox&&a.fn.mauGallery.methods.createLightBox(e,t.lightboxId,t.navigation),a.fn.mauGallery.listeners(t),e.children(".gallery-item").each(function(){let e=a(this);a.fn.mauGallery.methods.responsiveImageItem(e),a.fn.mauGallery.methods.moveItemInRowWrapper(e),a.fn.mauGallery.methods.wrapItemInColumn(e,t.columns);let n=e.data("gallery-tag");t.showTags&&n&&!l.includes(n)&&l.push(n)}),t.showTags&&a.fn.mauGallery.methods.showItemTags(e,t.tagsPosition,l),e.fadeIn(300)})},a.fn.mauGallery.defaults={columns:3,lightBox:!0,lightboxId:"lightbox",showTags:!0,tagsPosition:"bottom",navigation:!0},a.fn.mauGallery.listeners=function(e){a(".gallery-item").on("click",function(){e.lightBox&&a(this).is("img")&&a.fn.mauGallery.methods.openLightBox(a(this),e.lightboxId)}),a(".gallery").on("click",".nav-link",a.fn.mauGallery.methods.filterByTag),a(".gallery").on("click",".mg-prev",()=>a.fn.mauGallery.methods.navigateImage("prev",e.lightboxId)),a(".gallery").on("click",".mg-next",()=>a.fn.mauGallery.methods.navigateImage("next",e.lightboxId))},a.fn.mauGallery.methods={createRowWrapper(a){0===a.find(".row").length&&a.wrapInner('<div class="row"></div>')},responsiveImageItem(a){a.addClass("img-fluid")},moveItemInRowWrapper(a){let e=a.closest(".row");0===e.length&&a.wrap('<div class="row"></div>')},wrapItemInColumn(a,e){a.wrap(`<div class="col-md-${12/e}"></div>`)},showItemTags(e,t,l){let n=a('<div class="tags-bar"></div>');n.append("<span class='nav-link active-tag' data-images-toggle='all'>All</span>"),l.forEach(a=>{n.append(`<span class="nav-link" data-images-toggle="${a}">${a}</span>`)}),"top"===t?e.before(n):e.after(n)},createLightBox(e,t,l){if(a(`#${t}`).length)return;let n=`
        <div id="${t}" class="mg-lightbox" style="display:none;">
          <span class="mg-close">&times;</span>
          <img class="lightboxImage img-fluid" src="" />
          ${l?'<button class="mg-prev">Prev</button><button class="mg-next">Next</button>':""}
        </div>`;a("body").append(n),a(".mg-close").on("click",()=>{a(`#${t}`).fadeOut(200)})},openLightBox(e,t){let l=a(`#${t}`);l.length&&(l.find(".lightboxImage").attr("src",e.attr("src")),l.fadeIn(300))},filterByTag(e){let t=a(e.target).data("images-toggle");a(".tags-bar .nav-link").removeClass("active-tag"),a(e.target).addClass("active-tag"),"all"===t?a(".gallery-item").parent().show():a(".gallery-item").each(function(){let e=a(this);e.data("gallery-tag")===t?e.parent().show():e.parent().hide()})},navigateImage(e,t){let l=a(`#${t} .lightboxImage`),n=l.attr("src"),s=a(".tags-bar span.active-tag").data("images-toggle"),i="all"===s?a("img.gallery-item"):a(`img.gallery-item[data-gallery-tag='${s}']`),g=i.toArray(),o=g.findIndex(e=>a(e).attr("src")===n),r;r="next"===e?(o+1)%g.length:(o-1+g.length)%g.length,l.attr("src",a(g[r]).attr("src"))}}}(jQuery);